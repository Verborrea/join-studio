<script>
	import { crearCopiasPath } from '$lib/utils'
	import { createEventDispatcher, onMount } from 'svelte'

	const dispatch = createEventDispatcher()
	const colores = ['var(--red)', '#FF7F3A', '#FFCA3A', '#8AC926', '#1982C4', '#6A4C93', '#1C1D20'];

	function finish(e) {
		if (e.animationName === "bigtime_2") {
			dispatch('ready')
		}
	}

	function showpaths(e) {
		if (e.animationName === "bigtime") {
			crearCopiasPath('jo', colores);
			crearCopiasPath('in', colores, 1);
		}
	}
</script>

<div class="container1">
	<div class="up">Join</div>
	<div class="down" onanimationend={(e)=>showpaths(e)}>Studio</div>
</div>

<div class="container2 fcc">
	<!-- <svg class="part1" width="500" height="500" viewBox="0 0 147 142" fill="none" xmlns="http://www.w3.org/2000/svg" onanimationend={(e)=>finish(e)}>
		<path d="M121.547 102.305C124.047 99.6976 125.816 96.4271 126.627 92.9016C130.553 96.5481 137.53 91.9197 134.985 86.8112C134.985 86.8112 115.224 38.3143 105.349 14.084C103.116 7.68185 92.8019 11.7546 95.575 18.0152L121.801 82.369C124.276 88.4199 123.529 95.217 118.853 100.064C118.573 100.356 118.278 100.636 117.978 100.904C109.629 108.334 96.8057 104.553 92.6632 94.6118C84.1384 74.6532 76.1495 54.21 67.9933 34.0655L77.2419 28.8404C85.6537 49.5007 94.078 70.156 102.499 90.8124C104.86 97.2421 115.113 92.9106 112.294 86.9389C105.149 69.3993 85.4557 21.0728 85.4557 21.0728C84.871 19.3979 84.5686 17.6017 84.5686 15.827C84.5686 -0.0372692 106.009 -6.31264 114.105 8.01821C124.282 32.8037 144.82 82.9954 144.82 82.9954C150.603 97.0073 134.226 110.756 121.547 102.305Z" fill="#1D1D1B"/>
		<path d="M76.3837 82.5545C76.3837 82.5545 64.8761 54.3127 60.7488 44.1861C59.1143 40.0653 57.9274 37.5064 55.2621 35.1699C52.2777 32.5538 50.3235 32.0888 48.3954 31.6466C37.6162 29.1387 27.3625 38.8074 29.3025 49.7697C29.4647 50.7295 30.3827 53.3836 30.3827 53.3836C36.0976 67.4127 41.7853 81.4534 47.5329 95.4689C54.3515 110.906 77.7882 105.303 77.7882 89.0611C77.7882 86.7714 77.2385 84.6451 76.3837 82.5545ZM57.0198 90.8619L39.8777 48.789C37.7093 42.632 46.6726 38.809 49.574 44.7012L66.7859 86.9431C69.6094 93.1241 59.4243 97.1952 57.0198 90.8619Z" fill="#1D1D1B"/>
		<path d="M32.3128 89.1724C32.3128 98.805 24.0358 105.792 14.7354 104.889C6.73721 104.112 2.81685 97.3929 0 90.4787L9.24456 85.2742C10.3708 88.0348 11.232 92.6421 14.489 93.9937C18.8588 95.8398 22.7342 91.4031 21.3721 87.1038C16.4007 74.9119 11.4378 62.7165 6.46832 50.5238C13.1948 46.7383 19.9269 42.961 26.6454 39.1629C24.8776 43.1434 24.5166 47.6607 25.5365 51.8919L19.7171 55.1803C23.5439 64.5655 27.3659 73.9538 31.1958 83.3374C31.9186 85.1464 32.3128 87.112 32.3128 89.1724Z" fill="#1D1D1B"/>
		<path d="M65.985 29.1288L62.6092 20.8585C62.2437 19.9602 62.6051 18.9341 63.447 18.4602L69.3321 15.1471C70.3342 14.5826 71.6073 15.0276 72.0427 16.0949L75.1926 23.9612" fill="#1D1D1B"/>
		<path d="M2.06168 137.434L3.89334 134.702C5.67982 136.095 7.53614 137.162 9.47047 137.896C11.4007 138.629 13.3145 139 15.2078 139C17.5446 139 19.4419 138.501 20.8958 137.508C22.3537 136.511 23.0806 135.234 23.0806 133.672C23.0806 132.432 22.5591 131.41 21.5118 130.606C20.4645 129.803 19.0189 129.325 17.1708 129.172C16.7273 129.127 16.0866 129.081 15.2488 129.036C11.0968 128.744 8.26304 128.253 6.75582 127.565C5.58126 126.996 4.68597 126.267 4.07815 125.373C3.46623 124.479 3.16231 123.469 3.16231 122.352C3.16231 120.317 4.06993 118.639 5.88517 117.321C7.70041 116.002 10.0619 115.347 12.9613 115.347C15.0681 115.347 17.1462 115.697 19.1996 116.394C21.2531 117.09 23.2038 118.12 25.0519 119.484L23.2203 122.105C21.6638 120.848 20.0251 119.905 18.3084 119.266C16.5918 118.631 14.8258 118.314 13.0065 118.314C11.0968 118.314 9.52796 118.685 8.28769 119.427C7.05152 120.168 6.43138 121.1 6.43138 122.216C6.43138 122.661 6.52994 123.065 6.72707 123.432C6.9242 123.799 7.23222 124.145 7.64291 124.466C8.68195 125.249 10.9243 125.744 14.3741 125.958C15.9634 126.049 17.1914 126.147 18.062 126.255C20.6247 126.547 22.6576 127.371 24.1525 128.735C25.6474 130.099 26.3949 131.776 26.3949 133.767C26.3949 136.14 25.3682 138.094 23.3147 139.626C21.2613 141.159 18.5713 141.926 15.2447 141.926C12.7272 141.926 10.3863 141.559 8.22609 140.821C6.06588 140.088 4.00834 138.959 2.05347 137.442L2.06168 137.434Z" fill="#1D1D1B"/>
		<path d="M36.8632 141.794V118.429H26.2388V115.512H50.6705V118.429H40.0214V141.794H36.8632Z" fill="#1D1D1B"/>
		<path d="M54.4941 115.512V131.937C54.4941 134.57 54.9869 136.338 55.9726 137.232C56.9582 138.126 58.8925 138.576 61.7756 138.576C64.6586 138.576 66.5929 138.126 67.5704 137.232C68.5478 136.338 69.0365 134.57 69.0365 131.937V115.512H72.1947V132.79C72.1947 135.914 71.3856 138.155 69.7675 139.511C68.1494 140.867 65.4841 141.543 61.7756 141.543C58.0671 141.543 55.4017 140.867 53.7836 139.511C52.1655 138.155 51.3564 135.914 51.3564 132.79V115.512H54.4941Z" fill="#1D1D1B"/>
		<path d="M90.3798 115.512C94.499 115.512 97.8174 116.732 100.335 119.171C102.852 121.61 104.113 124.788 104.113 128.698C104.113 132.609 102.873 135.802 100.397 138.176C97.9201 140.554 94.5812 141.74 90.3798 141.74H79.1804V115.512H90.3798ZM90.3798 118.528H82.4248V138.72H90.3798C93.5996 138.72 96.1336 137.813 97.9817 136C99.8298 134.187 100.754 131.735 100.754 128.649C100.754 125.562 99.8133 123.16 97.9365 121.31C96.0597 119.455 93.5421 118.528 90.384 118.528H90.3798Z" fill="#1D1D1B"/>
		<path d="M108.857 141.72V115.376H112.04V141.72H108.857Z" fill="#1D1D1B"/>
		<path d="M130.697 142C126.91 142 123.785 140.747 121.321 138.242C118.857 135.736 117.625 132.563 117.625 128.719C117.625 124.874 118.861 121.676 121.333 119.171C123.806 116.666 126.927 115.413 130.697 115.413C134.467 115.413 137.621 116.67 140.11 119.179C142.599 121.693 143.843 124.87 143.843 128.715C143.843 132.559 142.603 135.732 140.122 138.238C137.642 140.743 134.5 141.996 130.701 141.996L130.697 142ZM130.697 139.033C133.535 139.033 135.888 138.061 137.749 136.116C139.609 134.171 140.541 131.706 140.541 128.719C140.541 125.731 139.613 123.242 137.761 121.297C135.905 119.352 133.551 118.38 130.697 118.38C127.843 118.38 125.506 119.356 123.646 121.31C121.785 123.263 120.853 125.731 120.853 128.719C120.853 131.706 121.785 134.171 123.646 136.116C125.506 138.061 127.859 139.033 130.697 139.033Z" fill="#1D1D1B"/>
	</svg> -->
	<svg class="part1" width="500" height="500" viewBox="0 0 485 480" fill="none" xmlns="http://www.w3.org/2000/svg" onanimationend={(e)=>finish(e)}>
		<g id="letras">
			<path d="M11.732 456.927L17.7129 448.007C23.5463 452.555 29.6078 456.039 35.924 458.436C42.2268 460.829 48.4759 462.041 54.6581 462.041C62.2885 462.041 68.4837 460.411 73.2312 457.169C77.9917 453.913 80.3652 449.744 80.3652 444.643C80.3652 440.594 78.6624 437.257 75.2426 434.632C69.4496 430.19 61.7996 429.882 54.792 429.505C41.2344 428.552 31.9813 426.949 27.0598 424.702C20.2989 421.427 15.3259 415.439 15.3259 407.68C15.3259 401.035 18.2896 395.556 24.2169 391.252C30.1442 386.945 37.8552 384.807 47.3226 384.807C54.202 384.807 60.9876 385.949 67.6926 388.225C74.3979 390.498 80.7675 393.861 86.8021 398.315L80.8214 406.873C75.7389 402.769 70.3881 399.69 64.7825 397.603C59.1773 395.53 53.4108 394.495 47.4702 394.495C41.2344 394.495 36.1117 395.706 32.0618 398.129C28.0254 400.549 26.0004 403.592 26.0004 407.236C26.0004 410.281 27.6125 412.751 29.9564 414.583C33.3492 417.14 40.6712 418.756 51.9358 419.455C63.0375 420.09 75.1983 420.614 83.8653 428.522C88.7466 432.976 91.1874 438.452 91.1874 444.953C91.1874 452.702 87.8349 459.082 81.1296 464.085C74.4247 469.091 65.641 471.595 54.7786 471.595C46.5582 471.595 38.9144 470.397 31.8607 467.987C24.807 465.593 18.0884 461.907 11.7052 456.953L11.732 456.927Z" fill="#1C1D20"/>
			<path d="M125.37 471.164V394.87H90.6777V385.345H170.455V394.87H135.682V471.164H125.37Z" fill="#1C1D20"/>
			<path d="M189.006 385.345V438.978C189.006 455.496 196.877 460.656 212.782 460.656C228.701 460.656 236.491 455.486 236.491 438.978V385.345H246.803V441.763C246.803 463.04 232.389 470.345 212.782 470.345C193.175 470.345 178.76 463.04 178.76 441.763V385.345H189.006Z" fill="#1C1D20"/>
			<path d="M300.118 385.345C313.568 385.345 324.404 389.329 332.624 397.293C349.038 413.198 349.454 443.408 332.827 459.35C324.739 467.115 313.837 470.988 300.118 470.988H263.548V385.345H300.118ZM274.142 395.193V461.127C290.552 461.127 312.077 464.864 324.94 452.245C337.412 440.01 337.157 416.465 324.793 404.278C312.133 391.765 290.233 395.193 274.142 395.193Z" fill="#1C1D20"/>
			<path d="M360.451 470.922V384.901H370.845V470.922H360.451Z" fill="#1C1D20"/>
			<path d="M431.766 471.837C407.308 471.837 389.082 452.722 389.082 428.47C389.082 404.228 407.29 385.022 431.766 385.022C456.229 385.022 474.691 404.156 474.691 428.457C474.691 452.793 456.253 471.824 431.779 471.824L431.766 471.837ZM431.766 462.149C450.593 462.149 463.909 446.831 463.909 428.47C463.909 410.044 450.679 394.71 431.766 394.71C412.923 394.71 399.622 410.111 399.622 428.47C399.622 446.83 412.94 462.149 431.766 462.149Z" fill="#1C1D20"/>
		</g>
		<path d="M216.59 97.255L205.567 70.2499C204.374 67.3167 205.554 63.9662 208.303 62.4187L227.52 51.6004C230.792 49.7572 234.949 51.2102 236.371 54.6953L246.656 80.3812" fill="#EFEFEF"/>
		<path id="jo" d="M16.5643 286.197L24.6876 306.302C31.5207 323.215 50.6122 331.572 67.6732 325.118V325.118C85.282 318.458 93.9668 298.617 86.9143 281.161L43.9526 174.827L130.45 124.2C149.403 113.106 173.787 121.421 182.014 141.783L236.114 275.687C243.562 294.121 234.424 315.197 215.989 322.645V322.645C197.555 330.093 176.341 321.28 168.893 302.846L114.693 168.696C107.442 150.748 115.682 130.279 133.345 122.36L134.401 121.887" stroke="#1C1D20" stroke-width="34"/>
		<path d="M125.919 99.5592L128.542 106.052C101.487 116.698 87.8964 148.266 98.7911 175.232L91.3737 178.229C79.1565 147.99 93.9312 112.483 125.919 99.5592Z" fill="#EFEFEF"/>
		<path id="in" d="M216.295 49.1128L319.592 304.783C326.486 321.847 345.855 330.154 362.97 323.387V323.387C380.266 316.549 388.681 296.929 381.714 279.684L296.304 68.2872C289.114 50.4928 297.711 30.2394 315.506 23.05V23.05C333.3 15.8606 353.553 24.4576 360.743 42.252L456.455 279.148C463.644 296.942 455.047 317.195 437.253 324.385V324.385C419.458 331.574 399.205 322.977 392.016 305.183L374.69 262.3" stroke="#1C1D20" stroke-width="34"/>
		<path d="M371.272 347.268C401.485 335.061 416.081 300.674 403.875 270.462L396.457 273.459C407.008 299.574 394.391 329.299 368.276 339.85L371.272 347.268Z" fill="#EFEFEF"/>
		<path fill-rule="evenodd" clip-rule="evenodd" d="M181.942 49.5103L241.282 25.5355L262.741 78.6479L203.401 102.623L181.942 49.5103ZM208.877 52.1096C204.781 53.7647 202.802 58.4273 204.457 62.5239L213.447 84.7763L243.117 72.7889L234.127 50.5365C232.471 46.4399 227.809 44.4608 223.712 46.1159L208.877 52.1096Z" fill="#EFEFEF"/>
	</svg>
</div>

<style>
	svg {
		aspect-ratio: 1;
		width: 33vw;
	}
	.container1, .container2 {
		position: absolute;
		overflow: hidden;
		height: 100svh;
		width: 100vw;
	}
	.container1 {
		display: grid;
		place-items: center;
		grid-template-rows: auto auto;
		
		align-content: center;
		align-items: center;
		justify-content: center;
	}
	.part1 {
		white-space: nowrap;
		text-align: center;
		animation: smalltime 1s cubic-bezier(0, 0, 0.2, 1) 2s backwards, bigtime_2 1s cubic-bezier(1, 0, 1, 1) 5s forwards;
	}
	.up, .down {
		font-size: 10vw;
		line-height: 1;
		font-weight: 600;
	}
	.up {
		transform-origin: bottom;
		animation: smalltime 1s cubic-bezier(0, 0, 0.2, 1) 0s backwards, bigtime 1s cubic-bezier(1, 0, 1, 1) 1s forwards;
	}
	.down {
		transform-origin: top;
		animation: smalltime 1s cubic-bezier(0, 0, 0.2, 1) 0s backwards, bigtime 1s cubic-bezier(1, 0, 1, 1) 1s forwards;
	}
	@media (max-width: 800px) {
		svg {
			width: 60vw;
		}
		.up, .down {
			font-size: 20vw;
		}
	}
</style>